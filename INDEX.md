ğŸ“š ÃNDICE GERAL - BRP Portfolio Optimizer

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ¯ COMECE AQUI (5 minutos)

VocÃª quer...                           Veja...
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â–¡ Executar rapidamente                 â†’ run.bat (Windows)
                                       â†’ run.sh (Mac/Linux)

â–¡ Entender o projeto                   â†’ RESUMO_PROJETO.md

â–¡ Instalar e configurar                â†’ SETUP.md

â–¡ Ver a estrutura                      â†’ PROJECT_STRUCTURE.txt

â–¡ Verificar o que foi feito            â†’ CHECKLIST_VALIDACAO.md

â–¡ DocumentaÃ§Ã£o tÃ©cnica completa        â†’ README.md

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“– DOCUMENTAÃ‡ÃƒO

1. SETUP.md (â­ Leia primeiro!)
   â””â”€ InstalaÃ§Ã£o passo a passo
   â””â”€ SoluÃ§Ã£o de problemas
   â””â”€ Como usar a aplicaÃ§Ã£o
   â””â”€ Entender os resultados
   ~ 150 linhas

2. README.md (DocumentaÃ§Ã£o TÃ©cnica)
   â””â”€ VisÃ£o geral do projeto
   â””â”€ Como funciona a otimizaÃ§Ã£o
   â””â”€ DescriÃ§Ã£o dos mÃ³dulos
   â””â”€ Exemplos de cÃ³digo
   ~ 100+ linhas

3. RESUMO_PROJETO.md (Executive Summary)
   â””â”€ O que foi entregue
   â””â”€ Comparativo antes/depois
   â””â”€ Tecnologias usadas
   ~ 200+ linhas

4. PROJECT_STRUCTURE.txt (Estrutura Visual)
   â””â”€ Ãrvore de arquivos
   â””â”€ DescriÃ§Ã£o de cada mÃ³dulo
   â””â”€ Pipeline de processamento
   ~ 200+ linhas

5. CHECKLIST_VALIDACAO.md (Quality Assurance)
   â””â”€ Arquivos criados
   â””â”€ Funcionalidades implementadas
   â””â”€ Testes realizados
   ~ 150+ linhas

6. INDEX.md (Este arquivo)
   â””â”€ Guia de navegaÃ§Ã£o
   â””â”€ RÃ¡pida referÃªncia
   â””â”€ Links para recursos

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ’» COMO EXECUTAR

OpÃ§Ã£o 1: Script RÃ¡pido (Recomendado)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Windows:
  1. Abra este diretÃ³rio no Windows Explorer
  2. Clique 2Ã— em run.bat
  3. Pronto! App abre em http://localhost:8501

Mac/Linux:
  1. Terminal: cd [diretÃ³rio]
  2. bash run.sh
  3. Pronto! App abre em http://localhost:8501

OpÃ§Ã£o 2: Manual
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
1. Crie ambiente virtual:
   python -m venv venv

2. Ative:
   Windows: venv\Scripts\activate
   Mac/Linux: source venv/bin/activate

3. Instale dependÃªncias:
   pip install -r requirements.txt

4. Execute:
   streamlit run app.py

OpÃ§Ã£o 3: Script ProgramÃ¡tico
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
python example_usage.py

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“¦ ESTRUTURA DO PROJETO

ğŸ“‚ brp_optimize_portfolio/
   â”‚
   â”œâ”€ ğŸ“„ DOCUMENTAÃ‡ÃƒO
   â”‚  â”œâ”€ README.md â­
   â”‚  â”œâ”€ SETUP.md â­
   â”‚  â”œâ”€ RESUMO_PROJETO.md
   â”‚  â”œâ”€ PROJECT_STRUCTURE.txt
   â”‚  â”œâ”€ CHECKLIST_VALIDACAO.md
   â”‚  â””â”€ INDEX.md (este arquivo)
   â”‚
   â”œâ”€ ğŸš€ EXECUÃ‡ÃƒO
   â”‚  â”œâ”€ app.py â† EXECUTE ISTO
   â”‚  â”œâ”€ example_usage.py
   â”‚  â”œâ”€ run.bat
   â”‚  â”œâ”€ run.sh
   â”‚  â””â”€ requirements.txt
   â”‚
   â”œâ”€ ğŸ“¦ PACOTE (brp_portfolio_optimizer/)
   â”‚  â”œâ”€ src/
   â”‚  â”‚  â”œâ”€ data_processor.py
   â”‚  â”‚  â”œâ”€ optimizer.py
   â”‚  â”‚  â”œâ”€ metrics.py
   â”‚  â”‚  â””â”€ reports.py
   â”‚  â”œâ”€ config/
   â”‚  â”‚  â””â”€ settings.py
   â”‚  â”œâ”€ data/ (seus CSVs aqui)
   â”‚  â”œâ”€ outputs/ (relatÃ³rios aqui)
   â”‚  â””â”€ logs/
   â”‚
   â”œâ”€ ğŸ§ª TESTES
   â”‚  â””â”€ tests/test_optimizer.py
   â”‚
   â””â”€ .gitignore

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“ CURVA DE APRENDIZADO

NÃ­vel 1 - Iniciante (30 min)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
1. Leia: SETUP.md
2. Execute: run.bat ou run.sh
3. Use a interface web
4. Gere seu primeiro relatÃ³rio
â†’ Resultado: AplicaÃ§Ã£o em funcionamento

NÃ­vel 2 - IntermediÃ¡rio (2 horas)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
1. Leia: README.md
2. Execute: example_usage.py
3. Analise: brp_portfolio_optimizer/src/
4. Edite: config/settings.py
â†’ Resultado: CustomizaÃ§Ã£o bÃ¡sica

NÃ­vel 3 - AvanÃ§ado (4+ horas)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
1. Estude o cÃ³digo de cada mÃ³dulo
2. Execute: pytest tests/ -v
3. Implemente seus prÃ³prios mÃ³dulos
4. Estenda a funcionalidade
â†’ Resultado: ExtensÃ£o e customizaÃ§Ã£o

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ” MÃ“DULOS EXPLICADOS

DataProcessor (data_processor.py)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
O que faz: Carrega e valida dados CSV
Entrada: Arquivo CSV com trades
SaÃ­da: Matrix de PnL diÃ¡rio
FunÃ§Ãµes:
  â€¢ load_and_validate() - Valida arquivo
  â€¢ prepare_data() - Prepara dados
  â€¢ get_daily_pnl() - Retorna PnL diÃ¡rio
  â€¢ get_original_df() - Retorna data original

PortfolioOptimizer (optimizer.py)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
O que faz: Otimiza alocaÃ§Ã£o de ativos
Entrada: Matrix de PnL diÃ¡rio
SaÃ­da: Pesos Ã³timos e multiplicadores
FunÃ§Ãµes:
  â€¢ calculate_annual_metrics() - Anualize retornos
  â€¢ optimize() - Maximize Sharpe Ratio
  â€¢ calculate_multipliers() - Risk sizing
  â€¢ get_optimal_weights() - Retorna pesos

MetricsCalculator (metrics.py)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
O que faz: Calcula 20+ mÃ©tricas
Entrada: DataFrame de trades
SaÃ­da: DicionÃ¡rio com todas as mÃ©tricas
FunÃ§Ãµes:
  â€¢ calculate_all_metrics() - Calcula tudo
  â€¢ get_equity_curve() - Curva de equity
  â€¢ get_daily_pnl() - PnL diÃ¡rio

ReportGenerator (reports.py)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
O que faz: Gera relatÃ³rios
Entrada: Dados processados e mÃ©tricas
SaÃ­da: Arquivos HTML e Excel
FunÃ§Ãµes:
  â€¢ generate_comparison_chart() - GrÃ¡fico
  â€¢ generate_html_report() - RelatÃ³rio HTML
  â€¢ generate_excel_report() - RelatÃ³rio Excel

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“Š PIPELINE DE DADOS

1. ENTRADA
   â””â”€ CSV com colunas:
      â€¢ Open time (data/hora)
      â€¢ Strategy name (Global) (nome)
      â€¢ Profit/Loss (Global) (lucro/perda $)
      â€¢ Size (tamanho do lote)

2. VALIDAÃ‡ÃƒO (DataProcessor)
   â””â”€ Verifica coluna, tipos, valores

3. TRANSFORMAÃ‡ÃƒO
   â””â”€ Converte datas
   â””â”€ Faz pivot (Date Ã— Strategy)
   â””â”€ Agrupa por dia

4. OTIMIZAÃ‡ÃƒO (PortfolioOptimizer)
   â””â”€ Calcula retornos anualizados
   â””â”€ Resolve problema de otimizaÃ§Ã£o
   â””â”€ Gera pesos Ã³timos

5. MÃ‰TRICAS (MetricsCalculator)
   â””â”€ Calcula 20+ mÃ©tricas
   â””â”€ Original vs Otimizado

6. RELATÃ“RIO (ReportGenerator)
   â””â”€ Gera grÃ¡ficos
   â””â”€ Cria HTML profissional
   â””â”€ Exporta Excel

7. SAÃDA
   â””â”€ HTML: Dashboard interativo
   â””â”€ Excel: Dados estruturados
   â””â”€ Console: Resultados

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âš™ï¸ CONFIGURAÃ‡Ã•ES

Capital Inicial (app.py):
  PadrÃ£o: $100.000
  AjustÃ¡vel: Sim (slider)

TolerÃ¢ncia de DD:
  PadrÃ£o: 25%
  AjustÃ¡vel: Sim (slider 5-50%)

Benchmark:
  PadrÃ£o: SPY
  AjustÃ¡vel: Sim (selectbox)

Constantes (config/settings.py):
  DEFAULT_CAPITAL_INICIAL = 100000
  DEFAULT_RISK_TOLERANCE_DD = 0.25
  BENCHMARK_SYMBOL = "SPY"

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ§ª TESTES

Como executar:
  pip install pytest
  pytest tests/ -v

Testes disponÃ­veis (9):
  âœ“ TestDataProcessor (3 testes)
  âœ“ TestPortfolioOptimizer (3 testes)
  âœ“ TestMetricsCalculator (2 testes)
  âœ“ TestIntegration (1 teste)

Exemplo de teste:
  def test_optimize(sample_daily_pnl):
      optimizer = PortfolioOptimizer(sample_daily_pnl)
      weights = optimizer.optimize()
      assert np.isclose(np.sum(weights), 1.0)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â“ PERGUNTAS FREQUENTES

P: Como instalo Python?
R: Download em python.org, selecione "Add to PATH"

P: Qual versÃ£o de Python preciso?
R: 3.8 ou superior

P: Qual Ã© o tamanho mÃ­nimo do CSV?
R: Recomendado mÃ­nimo 50 trades para resultados significativos

P: Posso usar em Mac/Linux?
R: Sim! Use run.sh em vez de run.bat

P: Como adiciono minhas estratÃ©gias?
R: Apenas inclua no CSV com nome diferente em "Strategy name"

P: Os lotes gerados jÃ¡ sÃ£o para MT5?
R: Sim! Use diretamente em seu Expert Advisor

P: Posso customizar as mÃ©tricas?
R: Sim! Edite MetricsCalculator.calculate_all_metrics()

P: Preciso de internet?
R: Sim, para download inicial de dependÃªncias e benchmark

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸš¨ TROUBLESHOOTING

Problema: "Python nÃ£o encontrado"
SoluÃ§Ã£o: Instale Python e marque "Add to PATH"

Problema: "ModuleNotFoundError: No module named 'streamlit'"
SoluÃ§Ã£o: Verifique se estÃ¡ no ambiente virtual
        pip install -r requirements.txt

Problema: "Porta 8501 jÃ¡ em uso"
SoluÃ§Ã£o: streamlit run app.py --server.port 8502

Problema: "CSV nÃ£o Ã© aceito"
SoluÃ§Ã£o: Verifique colunas exatas (sensÃ­vel a maiÃºsculas)

Problema: RelatÃ³rio nÃ£o gera
SoluÃ§Ã£o: Verifique se quantstats estÃ¡ instalado
        pip install quantstats

Mais problemas? Consulte SETUP.md seÃ§Ã£o "Troubleshooting"

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“ CONTATO & SUPORTE

DocumentaÃ§Ã£o: Veja os arquivos .md nesta pasta
CÃ³digo: ComentÃ¡rios detalhados em cada arquivo
Logs: Verifique logs/optimizer.log
Testes: Execute pytest tests/ -v

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ¨ PRÃ“XIMOS PASSOS

1. Execute: run.bat (Windows) ou run.sh (Mac/Linux)
2. Abra: http://localhost:8501
3. Upload um CSV
4. Configure Capital e Risk
5. Gere relatÃ³rio
6. Configure em MT5
7. Monitore resultados
8. Reotimize mensalmente

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“Š MÃ‰TRICAS PRINCIPAIS

Risco:
  â€¢ Max Drawdown (%) - Menor Ã© melhor
  â€¢ Volatilidade Anual (%) - Menor Ã© melhor

Retorno:
  â€¢ CAGR (%) - Maior Ã© melhor
  â€¢ Total Profit ($) - Maior Ã© melhor

EficiÃªncia:
  â€¢ Sharpe Ratio - Maior Ã© melhor (>1.0 Ã© bom)
  â€¢ Profit Factor - Maior Ã© melhor (>2.0 Ã© excelente)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… STATUS FINAL

VersÃ£o: 1.0.0
Status: COMPLETO E PRONTO PARA PRODUÃ‡ÃƒO
Linhas de CÃ³digo: ~2.300
MÃ³dulos: 5
Testes: 9
DocumentaÃ§Ã£o: 500+ linhas
Tempo de Setup: 30 segundos

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Desenvolvido por: BRP Quant Capital
Data: Janeiro 2026
LicenÃ§a: Todos os direitos reservados

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ¯ COMECE AGORA:
  1. Windows: .\run.bat
  2. Mac/Linux: bash run.sh
  3. Abra: http://localhost:8501
  4. Upload seu CSV
  5. Analise seus resultados!

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
